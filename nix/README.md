# Dashboard Kiosk NixOS Configuration

This directory contains the NixOS configuration for running a dual-browser kiosk dashboard.

## Files

- `configuration.nix` - Production configuration for Raspberry Pi or similar hardware
- `vm-configuration.nix` - VM configuration for testing
- `build-vm.sh` - Script to build and run the test VM
- `hardware-configuration.nix` - Hardware-specific settings (generated by NixOS)

## Testing with VM

To test the kiosk configuration in a VM:

```bash
# Build the VM
./build-vm.sh

# Run the VM
./result/bin/run-nixos-vm
```

The VM will:
- Auto-login as the `dashboard` user
- Start Sway window manager
- Launch two Chromium browsers in kiosk mode side-by-side
- Display https://cadmon.cob.org and https://bfd.firecat53.com

### VM Credentials

- **Username:** dashboard
- **Password:** dashboard

### Emergency Keybindings

* Mod = Alt
- `Mod+Return` - Launch terminal (Mod = Windows/Super key)
- `Mod++E` - Exit Sway

## Production Deployment

To deploy to actual hardware:

```bash
# Copy configuration to /etc/nixos/
sudo cp configuration.nix /etc/nixos/

# Rebuild system
sudo nixos-rebuild switch
```

## Features

- **Side-by-side display:** Two browsers automatically tile horizontally
- **Kiosk mode:** Full-screen, no browser chromium
- **Auto-login:** System boots directly to dashboard
- **Minimal UI:** No status bar, no window borders
- **Emergency access:** Keybindings for maintenance access

## Architecture

- **Window Manager:** Sway (Wayland tiling compositor)
- **Browser:** Chromium with `--kiosk` and `--app` flags
- **Auto-login:** Getty autologin on tty1
